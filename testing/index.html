<!DOCTYPE html>
<html>
	<head>
		<title>Monitor WebSocket demo</title>
		<meta charset="UTF-8">
	</head>
	<body>
		<script>
			var ws = new WebSocket("ws://localhost:4567/"),
				messages = document.createElement('ul');
			ws.onopen = function (event) {
				// set id of messages we want to receive
				ws.send("hippoes");
			};
			ws.onmessage = function (event) {
				console.log(event.data);
				var messages = document.getElementsByTagName('ul')[0],
					message = document.createElement('li'),
					content = document.createTextNode(event.data);
				message.appendChild(content);
				messages.appendChild(message);
			};
			ws.onclose = function (event) {
				console.log("Socket closed");
			};
			document.body.appendChild(messages);
		</script>
	</body>
</html>

